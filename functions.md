<div dir=rtl>

# تابع‌ها

تابع‌ها برنامه‌ کوچک هستند. که این قابلیت را دارند که در قسمت‌های دیگر برنامه‌ها از ان استفاده کنید. شما با استفاده از نام گذاری تابع و فراخوانی ان در دیگر قسمت‌های دیگر برنامه از این امکانات می‌توانید استفاده کنید. به این روش *فراخوانی تابع* می‌گویند. که در برنامه‌های قبلی از این توابع داخلی پایتون استفاده کردیم مانند `len` و `range`.


ساختار مفهومی تابع احتمالا یکی از مهم‌ترین بخش‌های هر برنامه‌نویسی است. بنابراین در این فصل ما بخش‌های مختلف تابع را برسی خواهیم کرد.

تابع با استفاده از کلید واژه‌ی `def` تعریف می‌شود. بعد از این کلمه‌ی کلیدی نام *(شناسه)* تابع ، نام دو جفت پرانتز می‌اید. که داخل پرانتز ممکن است متغییری قرار بگیرد. بعد بلوک برنامه‌ی شما است برای مثال:

برای مثال (فایلی با نام  `function1.py` ذخیره کنید)



برای مشاهده برنامه‌ها بهتر است به  لینک زیر سر بزنید:

 [نسخه‌ی گیت‌بوک](https://elyas.gitbooks.io/a-byte-of-python-parsi/content/control_flow.html)



<div dir=ltr>


<pre><code class="lang-python">{% include "./programs/function1.py" %}</code></pre>

<div dir=rtl>

خروجی:

<div dir=ltr>

<pre><code>{% include "./programs/function1.txt" %}</code></pre>

<div dir=rtl>



<div dir=rtl>

**چگونه و چطوری**

در بالا ما یک تابعی با نام `say_hello` داریم این تابع هیچ پارامتری ندارد پس درنتیجه داخل پرانتز هیچ متغییری قرار نمی‌گیرد. پارامتر‌ها توابع یک عملکرد هستند بنابراین می‌توانیم مقادیر مختلفی را به ان منتقل کنیم و نتایج مربوطه را بدست اوریم.

توجه داشته باشید که ما می‌توانیم همان تابع را چند بار فراخوانی کنیم و نیازی به نوشتن دوباره‌ی کد نداریم.

## پارامترهای توابع

توابع می‌توانند پارامتر بگیرند این مقادیری است که تابع از ان استفاده می‌کند.با استفاده از این پارمترها می‌توانیم روی انان *عملکردی* را انجام دهیم. منظور از پارامترها همان متغییرهای است که داخل پرانتز قرار می‌گیرد. متغییرهای که داخل پرانتز تعریف می‌شوند با فراخوانی تابع مقادیر از قبل تعیین شده داخل این پارمترها قرار می‌گیرند و تابع اجرا می‌شود.

پارامترهای داخل جفت پرانتز با کاما جدا می‌شوند. توجه داشته باشید که پارمترها همان طور که گفته شد متغییرهای داخل جفت پرانتز هستند و متغییرهای که داخل پرانتز تابعی که فراخوانی می‌کنید ارگومان هسنتد.

مثال (فایلی با نام  `function_param.py` ذخیره کنید)



برای مشاهده برنامه‌ها بهتر است به  لینک زیر سر بزنید:

 [نسخه‌ی گیت‌بوک](https://elyas.gitbooks.io/a-byte-of-python-parsi/content/control_flow.html)



<div dir=ltr>

<pre><code class="lang-python">{% include "./programs/function_param.py" %}</code></pre>

<div dir=rtl>


خروجی:

<div dir=ltr>

<pre><code>{% include "./programs/function_param.txt" %}</code></pre>


<div dir=rtl>




<div dir=rtl>

**چگونه و چطوری**

در اینجا ما تابع با نام `print_max` تعریف می‌کنیم. که دارای دو پارامتر به نام‌های `a` و `b` هستند. کار که قرار است انجام دهیم عدد بزرگتر را پیدا کنیم ان هم با استفاده از دستور `if..else` و بعد عدد پیدا شده را چاپ کنیم.

با اولی که تابع `print_max` را فراخوانی می‌کنیم، به طور مستقیم این اعداد به عنوان ارگومان به تابع معرفی می‌کنیم.
در گامی بعدی به تابع دو پارامتر می‌دهیم. که این امکان را `(print_max(x, y` میدهد که مقدار ارگومان `x` به `a` اختصاص داده شود و ارگومان `y` به `b` اختصاص داده شود. تابع `print_max` در هر دو مورد به یک صورت عمل می‌کند.

## متغییرهای محلی

وقتی متغییری را در داخل تابعی تعریف می‌کنید به هیچ وجه متغییرهای هم نام خارج از تابع به هم مرتبط نیستند. این بدان معنی است در تابع متغییرهای تعریف شده *محلی* هستند. متغییرها در محدوده بلوک تابع قابل استفاده هستند.


برای مثال (فایلی با نام `function_local.py` ذخیره کنید)

<div dir=ltr>

<pre><code class="lang-python">{% include "./programs/function_local.py" %}</code></pre>

<div dir=rtl>

خروجی:

<div dir=ltr>

<pre><code>{% include "./programs/function_local.txt" %}</code></pre>

<div dir=rtl>
 
 
 
 <div dir=rtl>

**چگونه و چطوری**

اولین باری که *مقدار* متغییر *x* را در خط اول در بدنه تابع چاپ می‌کنیم، پایتون از مقدار اعلام شده در بلوک اصلی (در قسمت بالا تعریف تابع) استفاده می‌کند.

بعد مقدار `2` را به متغییر  `x` اختصاص می‌دهیم. متغییر `x` یک متغییر محلی است. بنابراین هنگامی که مقدار `x` در تابع تغییر می‌دهیم، متغییر `x` تعریف شده در بلوک اصلی باقی می‌ماند.

با استفاده از کمک دستور `print` مقدار متغییر `x` را که در بلوک اصلی تعریف شده است، نمایش می‌دهیم. پس باید درحال حاضر درکی از متغییر محلی داشته باشید.


 {#global-statement}
## متغییر سراسری


اگر می‌خواهید یک متغییری در بالای برنامه خود تعریف کنید که به هیچ کلاس یا تابع محدود نباشد، پس باید به پایتون بگویید که این متغییر محلی نیست. به این نوع متغییرها متغییر *سراسری* می‌گویند. پس با استفاده از متغییر *سراسری* می‌توانیم این کار را انجام دهیم.

فرض کنید که می‌خواهید که یک متغییر سراسری تعریف کنید و در خارج از تابع از ان استفاده کنید. همچنین متغییر هم نام با متغییر سراسری خود ندارید(هر چند توسعه می‌شود از این کار پرهیز کنید). زیرا به این خاطر سطح خوانا بودن برنامه شما را پایین می‌اورد.


برای مثال (فایلی با نام  `function_global.py` ذخیره کنید)


<div dir=ltr>

<pre><code class="lang-python">{% include "./programs/function_global.py" %}</code></pre>

<div dir=rtl>

خروجی:

<div dir=ltr>

<pre><code>{% include "./programs/function_global.txt" %}</code></pre>

<div dir=rtl>



<div dir=rtl>

**چگونه و چطوری**

متغییر سراسری `x` را وقتی فراخوانی می‌کنیم، اعلام می‌کند که یک متغییر سراسری است. پس وقتی که متغییر `x` را صدا می کنیم در بلوک اصلی این تغییرات منعکس می‌شود.

همچنین می‌توانیم چندین متغییر سراسری تعریف کنیم، با استفاده از دستور  `global x, y, z`

{#default-arguments}

## ارگومان‌های پیش‌فرض

برای بعضی از توابع ممکن است که بخواهید از پارامترهای *اختیاری* استفاده کنید، درصورتیکه از کاربر مقداری را تعیین نکند. این کار با استفاده از ارگومان *پیش‌فرض* انجام می‌شود. این روش با کمک اضافه کردن پارامترها در تعریف تابع (انتساب تابع) با علامت (`=`) انجام می‌شود.

این نکته را در نظر داشته باشید که مقدار ارگومان باید یک مقدار ثابت باشد. این بدان معنی است که مقدار ارگومان نباید تغییر کند. در این مورد در فصل‌های بعدی توضیح داده خواهد شد.

برای مثال (فایلی با نام `function_default.py` ذخیره کنید)

<div dir=ltr>

<pre><code class="lang-python">{% include "./programs/function_default.py" %}</code></pre>

<div dir=rtl>

خروجی:

<div dir=ltr>

<pre><code>{% include "./programs/function_default.txt" %}</code></pre>


<div dir=rtl>



**چطور و چگونه**

تابع با نام `say` برای چاپ رشته به اندازه‌ی که بهش گفته می‌شود، رشته چاپ می‌کند. اگر مقدار ندهیم، به طور پیش‌فرض یک رشته چاپ می‌شود. روش دادن ارگومان هم به این صورت `1` to the parameter `times` است.

در سری اول از تابع `say` فقط رشته را می‌دهیم و رشته را چاپ می‌کند. در روش بعدی از ارگومان `5` استفاده می‌کنیم به این صورت ۵ بار از رشته رونویسی می‌کند.

> *نکته*
>
> تنها پارمترهای که در انتهای لیست قرار دارند متیواند پارامتر پیش‌فرض بگیرند.
>مقدار پارامتر نمی‌تواند قبل از ارگومان باشد.
> یک مقدار ارگومان به طور پیش‌فرض در لیست تابع قرار دارد.
>
> این بخاطر این دلیل است که مقادیر پارامترها بر اساس موقعیت اختصاص داده می‌شود.
> برای مثال: `def func(a,> b=5)` صحیح است،  `def func(a=5, b)` *صحیح نیست*. 

## کلید ارگومان‌ها

اگر توابعی با پارامترهای مختلفی دارید و می‌خواهید بعضی از پارامترها را مشخص کنید، می‌توانید با نامگذاری پارامترها این کار را انجام دهید. به این روش *کلید ارگومان* گفته می‌شود. در اینجا ما از یک کلید واژه به جای موقعیت (که قبلا از ان استفاده می‌کردیم) استفاده می‌کنیم.

دو مزیت وجود دارد: اول از همه استفاده از تابع ساده‌تر است، چون دیگر نیاز به نگرانی برای نظم پارامترهای تابع نداریم. دوم: می‌توانیم فقط پارامترهای که می‌خواهیم را نامگذاری کنیم، به شرط اینکه پارامترها دیگر مقادیر پیش‌فرض داشته باشند.

برای مثال (فایلی با نام `function_keyword.py` ذخیره کنید)

<div dir=ltr>

<pre><code class="lang-python">{% include "./programs/function_keyword.py" %}</code></pre>

<div dir=rtl>

خروجی:

<div dir=ltr>

<pre><code>{% include "./programs/function_keyword.txt" %}</code></pre>


<div dir=rtl>

ادامه دارد:
