<div dir=rtl>

{#control-flow}

# کنترل گردش 

برنامه‌هایی که تا به حال می‌نوشتیم، یک مجموعه‌ی از فراخوانی‌ها بود.که در پایتون به صورت مرتب از بالا به پایین اجرا می‌شدند.حال اگر بخواهیدگردش را تغییر بدهید باید چه کرد؟ برای مثال اگر بخواهید که برنامه شما کارهای مختلفی در موقعیت‌های مختلف انجام دهد. همانند چاپ 'Good Morning' و 'Good Evening' در زمان‌های مختلف روز.

همان طور که شما حدس زدید این کنترل گردش است. در پایتون با سه روش می‌توان این کار را انجام داد: دستورات - `if`, `for` و `while`

## دستور `if` 

دستور `if` برای برسی شرط استفاده می‌شود. *if(اگر)* شرط برقرار است بلوک اجرا می‌شود(بلوک if فراخوانی می‌شود)*else(وگرنه)* بلوک مربوط به وگرنه(بلوک else فراخوانی می‌شود) برسی می‌شود.بند *else* اختیاری است.

برای مثال (فایل `if.py` را ذخیره کنید)



<div dir=ltr>

<pre><code class="lang-python">{% include "./programs/if.py" %}</code></pre>

<div dir=rtl>

خروجی:

<div dir=ltr>

<pre><code>{% include "./programs/if.txt" %}</code></pre>


<div dir=rtl>



**چگونه و چطوری**

ما در این برنامه فرضیات کاربران را می‌گیریم و انان را برسی می‌کنیم.برای مثال ایا ورروی عدد است؟.ما متغییر +number+ با هر عدد صحیح‌ که می‌خواهیم پر می‌کنیم برای مثال عدد `23` است.در گام بعدی ما در نظر می‌گیرم که کاربر از تابع `input()` که برای ورودی گرفتن است استفاده می‌کند.تابع‌ها برنامه‌های هستند که از چندین بخش برنامه‌های کوچک ساخته شده‌اند.درباره‌ی این موضوع در [ فصول](./functions.md#functions) بعدی بحث خواهیم کرد.

ما رشته موجود را با استفاده از تابع `input` می‌گیریم که برروی صفحه‌ای نمایش نشان داده می‌شود و منتظر گرفتن ورودی از کاربر می‌شود. وقتی که که ما چیزی را وارد می‌کنیم و دکمه‌ [enter] کیبورد را فشار می‌دهیم تابع `input()` انچه که ما وارد کرده بودیم رابه صورت یک رشته برمی‌گرداند.بعد ما با استفاده از `int` ان را به عدد تبدیل می‌کنیم و ان را در متفییر برای کاربر فرض کردیم ذخیره می‌کنیم.در صورتکه که `int` که کلاس است ولی چیزی که شما ان را باید بدانید ان است که شما می‌توانید برای تبدیل رشته به عدد استفاده کنید(اگر رشته در حد مجاز عدد داشته باشد).

در گام بعدی ما فرض کاربر را با عددی که ما در نظر گرفته بودیم را برسی می‌کنیم. اگر این اعداد مساوی هستند چاپ می‌کنیم صحیح است.این نکته را در نظر بگیرید که ما از فاصله‌هاو تورفتگی‌ها استفاده می‌کنیم برای انکه به پایتون بگویم که کدام یک از فراخوانی‌ها مال کدام یک از بلوک‌ها هستند.امیدوارم که شما تورفتگی‌ها و فاصله‌ها("consistent indentation") را رعایت می‌کنید.

توجه داشته باشید که دستور `if` در اخر داری دونقطه می‌باشدکه بعد از ان بلوک دستورات است(با تورفتگی‌ها همچنین).

در گام بعدی برسی می‌شود که اگر عدد گفته شده کمتر از عدد ما است به کاربر پیام می‌دهیم که باید عدد بالاتری را حدس برند.دستوری که ما در اینجا استفاده می‌کنیم `elif` است.که دو دستور را `if else-if else` با هم متصل می‌کند و به این صورت می‌شود `if-elif-else`.این روش برنامه‌نویسی و همچنین تعداد تورفتگی ها را کمتر می‌‌کند.

دستور `elif` و `else` همچنین باید داری دو نقطه باشند.

در دستور  `if` می‌توان از `if` دیگر در داخل ان استفاده کرد به این روش `if`های تودرتو می‌گویند.

یاداوری قسمت‌ها  `elif` و `else` ضروری نیست.`if`  تنها کوتاه‌ترین روش است.

<div dir=ltr>


```python
if True:
    print('Yes, it is true')
```

<div dir=rtl>



بعد از انکه پایتون دستور `if` را همراه با بخش‌های `elif` و `else` اجرا کرد، پایتون به بلوک بعدی می‌رود که در داخل `if` است. در اینجا بلوک اصلی است(جاییکه برنامه اجرا می‌شود).در ادامه دستور `print` و اتمام شرط است`پایان`.

با اینکه این برنامه یک برنامه ساده است، من به نکته‌های مهم اشاره کردم. چیزهای گفتنی گفته شد. همه این‌ها بسیار ساده است (ان‌هم اگر بخواهیم با پشت صحنه‌ی سی و سی‌پلاس پلاس مقایسه کنیم).دراین گام شما باید مفهوم این موضوع را درک کنید. بعد از تمرین این موضوع برای شما این یک امر ساده می‌شود.




>**نکته برای برنامه‌های سی و سی‌پلاس پلاس**
>
> در پایتون دستور `switch` نداریم. شما می‌توانید از دستور `if..elif..else` برای انجام همان کار‌ها استفاده کنید. همچنین گاهی اوقات هم از [dictionary](./data_structures.md#dictionary) برای انجام این کار استفاده می‌کنند.

## دستور while

دستور while برای تکرار یک بلوک استفاده می‌شود، به شرط انکه شرطه گفته شده برقرار باشد. دستور while به نام *looping(حلقه)* همچنین می‌نامند. دستور while می‌تواند به صورت اختیاری قسمت `else` را داشته باشد.

برای مثال(فایلی با نام `while.py` ذخیره کنید)

<div dir=ltr>

<pre><code class="lang-python">{% include "./programs/while.py" %}</code></pre>

<div dir=rtl>

خروجی:

<div dir=ltr>

<pre><code>{% include "./programs/while.txt" %}</code></pre>


<div dir=rtl>




**چگونه و چطوری**

در این برنامه‌هم ما بازی حدس بزن را بازی می‌کنیم ولی مزیت‌اش انیجاست که تا زمانی که درست حدس نزنید این مکان هست که ادامه بدهید. دیگر در اینجا نیاز نیست هر سری برنامه را برای حدس زدن اجرا کنیم(انچه که قبل انجام می‌دادیم).این به طور دقیق توانایی دستور `while` را نمایش می‌دهد.

ما دستورهای `input` و `if` را به داخل حلقه‌ی `while` تغییر می‌دهیم و متغییر `running` برابر با `True` قبل از حلقه‌ی while قرارمی‌دهیم.در اولین گام ما برسی می‌کنیم که ایا متغییر `running` برابر است با `True` اگر درست است به *بلوک حلقه‌ی while* می‌رویم.پس از انجام بلوک دوباره شرط برسی می‌شود که در اینجا متغییر `running` است. اگر درست است که بلوک ااجرا می‌شود وگرنه بلوک else که اختیاری است اجرا می‌شود.بعد ان هم به فراخوانی‌ها گفته شده می‌رود.

بلوک `else` زمانی اجرا می‌شود که داخل حلقه `while` برابر با `False` باشد.پس هر گاه شرط برقرار نباشد این بلوک اجرا می‌شود.این موضوع را هم در نظر داشته باشید که در حلقه‌ `while` این شرط پشت سرم هم اجرا می‌شود مگر انکه با دستور `break` به ان خاتمه دهید.

به `True` و `False` نوع بولین می‌گویند و می‌توان یک جورایی با `1` و `0` همسان دانست.




> **نکته برای برنامه‌های سی و سی‌پلاس پلاس**
>
> بخاطر داشته باشید که برای حلقه‌ی `while` می‌توانید از `else` استفاده کنید.

## حلقه‌ `for`

دستور `for..in` یک فراخوانی در حلقه‌ها است که کار *تکرار* را انجام می‌دهد. ان هم به صورت ترتیبی این کار را انجام می‌دهد.ما جرییات بیشتر درباره‌ی [sequences(ترتیب یا دنباله‌ها)](./data_structures.md#sequence) در فصول بعدی خواهیم دید. شما باید این موضوع را درک کنید که دنباله‌ها فقط یک مجموعه‌ی از دستورالعمل هستند.

مثال (فایلی با نام `for.py` ذخیره کنید)

<div dir=ltr>

<pre><code class="lang-python">{% include "./programs/for.py" %}</code></pre>

<div dir=rtl>

خروجی:

<div dir=ltr>

<pre><code>{% include "./programs/for.txt" %}</code></pre>


<div dir=rtl>


**چگونه و چطوری**

در این برنامه ما *دنباله‌ی* از اعداد را چاپ می‌کنیم. ما این دنباله را با استفاده از تابع `range` می‌سازیم.
کاری که ما اینجا انجام می‌دهیم باید دو عدد را در نظر بگیریم برای `range` یک عدد برای شروع دنباله و عدد دوم برای پایان دنباله.برای مثال `(range(1,5` نتیجه‌ی دنباله‌اش  `[1, 2, 3, 4]` می‌شود.در حالت عادی گام‌های `range` یکی یکی است. اگر بخواهیم این را تغییر بدهیم کافی عدد سومی را به `range` اضافه کنیم. برای مثال `(range(1,5,2` نتیجه‌ی دنباله‌‌اش `[1,3]` می‌شود. این نکته را در نظر داشته باشید که range(دامنه) تا عدد دوم اضافه می‌شود.

این نکته را در نظر دشته باشید که `()range` هر بار یک عدد را می‌سازد. اگر شما لیست کامل را می‌خواهید باید `()list` را صدا بزنید. برای مثال `((list(range(5` که نتیجه‌اش `[0, 1, 2, 3, 4]` میشود.list در بخش [ ساختار داده ](./data_structures.md#data-structures) توضیح داده می‌شود.


حلقه‌ی `for` براساس این دامنه  `for i in range(1,5)`  که همانند `for i in [1, 2, 3, 4]` این دامنه است این کار را انجام می‌دهد.بدان معنی که هر عدد هر بار به ترتیب به i اضافه می‌شود.سپس دوباره به تعداد مقدار i ،بلوک for اجرا می‌شود. در این برنامه ما فقط مقدار بلوک را چاپ می‌کنیم.

به یاد داشته باشید که بخش `else` اختیاری است. اگر شامل این بخش باشد، این بخش پس از یک بار اجرا شدن حلقه‌ی `for` اجرا می‌شود به شرط انکه از << دستور ,break>> استفاده نشده باشد.

به یاد داشته باشید که حقله‌ی `for..in` برای هر دنباله‌ی کار می‌کند. در اینجا از `range` برای ساختن اعداد استفاده کردیم ولی می‌توانیم برای روش‌های دیگر نیز استفاده کنیم. در مورد این موضوع در فصول بعدی بحث خواهیم کرد.
